<style>
  .spacing {
    padding-left: 20px;
  }
</style>

<div class="spacing"> 
  <div>
    <div>
      <h1>
        Your Requested Gifts
      </h1>
    </div>
  </div>

  <hr>

  <div>
    <div>
      <h2>
        Add a new gift to your Reglo List!
      </h2>

      <form action="/insert_gift" method="post">

        <div>
          <label for="name_of_gift_box">
            Name of gift
          </label>
          <div>
            <input type="text" id="name_of_gift_box" name="query_name_of_gift">
          </div>
        </div>


        <div>
          <label for="description_box">
            Description
          </label>
          <div>
          <textarea id="description_box" name="query_description" rows="3"></textarea>
          </div>
        </div>


        <div>
          <label for="price_box">
            Price $
          </label>
          <div>
            <input type="text" id="price_box" name="query_price">
          </div>
        </div>

        <div>

          <input type="hidden" id="status_of_gift_box" name="query_status_of_gift" value="Not Purchased">
        </div>


          <label for="category_id_box">
            Category
          </label>
          <div>
            <select name="query_category_id" id="category_id_box">

            <% @current_user.categories.each do |a_category| %>
            <option value="<%=a_category.id%>"><%=a_category.name%></option>
            <%end%>

            </select>
          </div>
        <%if @current_user != nil%>
          <div>
            <input type="hidden" id="requester_id_box" name="query_requester_id" value="<%= @current_user.id %>">
          </div>
        <%end%>
        <div>
          <button>
            Add Gift to List
          </button>
        </div>
      </form>
    </div>
  </div>

  <hr>
  <div>
    <div>
      <table border="1" class="table">
        <tr>
          
          <th>
            Name of gift
          </th>

          <th>
            Price (USD)
          </th>

          <th>
            Description
          </th>

          <th>
            Category
          </th>

          <th>
            Updated
          </th>

          <th>
          </th>
        </tr>

        <% @list_of_gifts.each do |a_gift| %>
        <tr>
         
          <td>
            <%= a_gift.name_of_gift %>
          </td>

          <td>
            <%= a_gift.price %>
          </td>

          <td>
            <%= a_gift.description %>
          </td>

          <%if a_gift.category == nil%>

            <% a_gift.category = a_gift.name_of_gift %>

            <td>
              <%= a_gift.category.name %>
            </td>

          <%else%>

            <td>
            <%= a_gift.category.name %>
            </td>

          <%end%>

          <td>
            <%= time_ago_in_words(a_gift.updated_at) %> ago
          </td>

          <td>
            <a href="/gifts/<%= a_gift.id %>">
              Gift details
            </a>
          </td>
        </tr>
        <% end %>
      </table>
    </div>
  </div>

  <hr>
</div>
